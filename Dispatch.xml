<?xml version="1.0" encoding="UTF-8"?>
<Export generator="Cache" version="25" zv="Cache for Windows (x86-64) 2016.2 (Build 736U)" ts="2017-04-20 08:30:26">
<Class name="REST.Dispatch">
<Description>
This is our Dispatch class for all REST Services</Description>
<Super>%CSP.REST</Super>
<TimeChanged>64392,30998.353984</TimeChanged>
<TimeCreated>64390,31162.175681</TimeCreated>

<XData name="UrlMap">
<XMLNamespace>http://www.widgetsdirect.com/urlmap</XMLNamespace>
<Data><![CDATA[
<Routes>
<Route Url="/:name" Method="GET" Call="HelloWorld" Cors="false" />
</Routes>
]]></Data>
</XData>

<Method name="HelloWorld">
<ClassMethod>1</ClassMethod>
<FormalSpec>Name:%String</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	Set %response.ContentType="application/json"
	
	SET retObj = {}
	SET retMessage = "Welcome to Widgets Direct "_Name
	SET retObj.Message = retMessage
	//
	SET widgetAry = []
	FOR i=1:1:10 {
		SET widgetObj = {}
		SET widgetObj.Id = i
		SET widgetObj.Name = "Widget "_i
		DO widgetAry.%Push(widgetObj)
	}
	SET retObj.Widgets = widgetAry
	//
	WRITE retObj.%ToJSON()
	QUIT $$$OK
]]></Implementation>
</Method>
</Class>
</Export>
